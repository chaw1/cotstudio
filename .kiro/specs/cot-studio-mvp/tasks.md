# COT Studio MVP 实施计划

- [x] 1. 项目基础设施搭建





  - 创建项目目录结构，包含前端(React+TypeScript)、后端(FastAPI)、Docker配置
  - 配置开发环境Docker Compose文件，包含PostgreSQL、Neo4j、Redis、MinIO、RabbitMQ服务
  - 设置基础的CI/CD配置文件和代码质量检查工具
  - _需求: 8.1, 8.2, 8.3_

- [x] 2. 后端核心框架搭建









  - 创建FastAPI应用结构，配置SQLAlchemy ORM和数据库连接
  - 实现基础的认证中间件和JWT token处理
  - 配置Celery异步任务队列和RabbitMQ连接
  - 编写基础的异常处理和日志记录功能
  - _需求: 7.1, 7.2, 8.1_

- [x] 3. 数据库模型和迁移









  - 实现核心数据模型：Project、File、Slice、COTItem、COTCandidate
  - 创建数据库迁移脚本和种子数据
  - 配置Neo4j连接和基础图数据库模式
  - 编写数据模型的单元测试
  - _需求: 1.1, 1.3, 4.1_

- [x] 4. 项目管理API实现





  - 实现项目CRUD API端点：创建、查询、更新、删除项目
  - 添加项目权限控制和用户角色管理
  - 实现项目元数据管理和标签系统
  - 编写项目管理API的集成测试
  - _需求: 1.1, 1.4, 7.2, 7.3_

- [x] 5. 文件上传和存储服务










  - 实现多格式文件上传API，支持PDF、Word、TXT、Markdown、LaTeX、JSON
  - 集成MinIO对象存储，实现文件存储和检索
  - 添加文件格式验证、大小限制和安全检查
  - 实现文件哈希计算和重复文件检测
  - _需求: 1.2, 1.3, 7.4_

- [x] 6. OCR服务集成和切片功能





  - 集成多个OCR引擎：PaddleOCR作为基础引擎
  - 实现OCR任务的异步处理和进度跟踪
  - 开发自动切片算法，按段落、图片、表格、页码分割
  - 实现切片与原文件的位置映射和回溯功能
  - _需求: 2.1, 2.2, 2.3, 2.4_

- [x] 7. LLM集成和CoT生成服务





  - 实现LLM服务抽象层，支持多个提供商API（OpenAI、DeepSeek等）
  - 开发CoT问题生成功能，基于选定文本片段
  - 实现候选答案生成，支持3-5个CoT格式答案
  - 添加LLM调用的错误处理和重试机制
  - _需求: 3.1, 3.2, 6.1, 6.4_

- [x] 8. CoT数据标注API





  - 实现CoT数据创建和更新API
  - 开发答案排序、评分和chosen标记功能
  - 添加标注状态管理（draft、reviewed、approved）
  - 实现标注数据的验证和完整性检查
  - _需求: 3.3, 3.4, 3.5, 3.6_

- [x] 9. 知识图谱抽取服务





  - 实现从CoT数据中抽取实体、关系、属性的算法
  - 集成Neo4j图数据库，存储知识图谱数据
  - 开发向量嵌入生成和存储功能
  - 实现KG数据与CoT数据的关联索引
  - _需求: 4.1, 4.2, 4.3_

- [x] 10. 前端基础框架搭建





  - 创建React+TypeScript+Vite项目结构
  - 配置Ant Design UI组件库和主题
  - 设置Zustand状态管理和API服务层
  - 实现基础的路由和布局组件
  - _需求: 6.1, 8.1_

- [x] 11. 项目管理界面





  - 开发项目列表和详情页面
  - 实现项目创建、编辑、删除功能
  - 添加文件上传组件，支持拖拽和多文件选择
  - 实现文件列表展示和状态监控
  - _需求: 1.1, 1.2, 1.4_

- [x] 12. OCR处理和切片展示界面





  - 开发OCR引擎选择和配置界面
  - 实现OCR处理进度展示和状态更新
  - 创建切片列表和详情查看组件
  - 添加切片与原文件位置的高亮显示功能
  - _需求: 2.1, 2.4, 2.5_

- [x] 13. CoT标注工作台界面





  - 实现文本选择和问题生成界面
  - 开发候选答案的拖拽排序组件
  - 创建评分滑条和Y/N选择按钮
  - 实现标注数据的保存和状态管理
  - _需求: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 14. 知识图谱可视化界面





  - 集成Cytoscape.js实现图谱可视化
  - 开发节点和边的交互功能
  - 实现按实体、关系、属性的查询过滤
  - 添加图谱密度调整和布局控制
  - _需求: 4.3, 4.4, 4.5_

- [x] 15. 系统设置和配置界面





  - 开发LLM API配置页面，支持多个提供商
  - 实现OCR引擎选择和参数配置
  - 创建系统提示词编辑和管理功能
  - 添加候选答案数量等参数设置
  - _需求: 6.1, 6.2, 6.3, 6.4_

- [x] 16. 数据导出功能实现





  - 实现多格式导出：JSON、Markdown、LaTeX、TXT
  - 开发项目包生成，包含所有相关数据和元数据
  - 添加导出进度跟踪和下载功能
  - 实现导出数据的格式验证和完整性检查
  - _需求: 5.1, 5.2, 5.3, 5.4_

- [x] 17. 数据导入和差异比对





  - 实现项目包导入功能
  - 开发数据差异检测和比对算法
  - 创建差异展示和合并确认界面
  - 添加导入后的数据验证和状态恢复
  - _需求: 5.5, 6.1_

- [x] 18. 审计日志和权限系统





  - 实现操作日志记录和存储
  - 开发用户权限管理和角色分配
  - 创建审计日志查询和展示界面
  - 添加敏感操作的权限验证
  - _需求: 7.1, 7.2, 7.3, 7.5_

- [x] 19. 异步任务监控界面





  - 开发任务状态展示和进度跟踪
  - 实现WebSocket实时通知功能
  - 创建任务队列管理和重试机制
  - 添加任务失败处理和错误展示
  - _需求: 8.1, 8.2, 8.3, 8.4_

- [x] 20. 系统集成测试





  - 编写端到端测试用例，覆盖完整业务流程
  - 实现文件上传到CoT生成的完整流程测试
  - 添加知识图谱抽取和可视化的集成测试
  - 执行性能测试和负载测试
  - _需求: 1.1-8.5_

- [x] 21. 部署配置和文档








  - 完善Docker Compose配置，确保一键启动
  - 编写详细的部署和运行文档
  - 创建API文档和用户使用指南
  - 添加故障排除和维护指南
  - _需求: 8.1, 8.5_

- [x] 22. 代码质量和安全加固





  - 实现输入验证和SQL注入防护
  - 添加文件上传安全检查和病毒扫描
  - 完善错误处理和异常恢复机制
  - 执行代码审查和安全测试
  - _需求: 7.4, 7.5_

- [x] 23. 性能优化和监控





  - 实现数据库查询优化和索引调整
  - 添加Redis缓存和API响应优化
  - 集成监控和日志收集系统
  - 执行性能基准测试和调优
  - _需求: 8.4, 8.5_

- [x] 24. 最终集成和交付准备





  - 执行完整的系统测试和用户验收测试
  - 完善所有功能的单元测试和集成测试
  - 准备演示数据和使用示例
  - 生成最终的交付文档和部署包
  - _需求: 1.1-8.5_